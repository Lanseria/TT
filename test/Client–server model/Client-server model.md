# 主从式架构（ C/S 架构）

客户端/服务器架构，又称主从式架构（下文都称之为 `C/S` ）。是一种分布式的应用结构，其结构分为服务器端，也就是资源与服务的提供者，常用来处理巨大的任务以及工作量，还有一些服务的请求者，这些叫做客户端。通常，客户端和服务器通过计算机网络在单独的硬件上进行通信，但是客户端和服务器可能驻留在同一系统中。一个服务器运行一到多个服务程序向客户端分享资源。客户端不共享其资源，但请求服务器的内容或服务。因此，客户端需要启动与服务端的通信会话之前服务端必须等待其请求。使用 `C/S`架构的典型计算机应用例子有 `E-mail`，网上打印，万维网。

##客户端与服务器的角色

在应用间操作程序的这种关系是 `C/S` 架构的一项特征描述。当客户端开始请求这些服务之前，服务组件便已提供一种给一或多个客户端服务的功能。服务按照他们所提供的服务被分类。举个例子，一个网站服务器服务的是一群的网页，一个文件服务器服务的是一群的计算机网文件。一个共享的资源可以是服务器上的软件和硬件设备，从程序数据到进程与存储设备都可以共享。所以一个服务器共享的这些资源渐渐地就成了一种服务。

一台电脑是一个客户端还是服务端，或者是两者，这取决于需要请求服务功能的应用，是否具有这个特性。去个例子，一个计算机正在跑一个`web`服务器的和一个文件服务器的软件，它现在正在给哪些来自不同的请求的客户端服务一些数据。客户端软件呢，也能与服务器软件在同一台计算机上通信着。服务器之间的通信就如同同步化数据，但有时也叫做内部服务器或者服务器间的通信。

## 客户端和服务器通信

一般来说，服务是计算机资源的抽象，客户端不必担心服务器在满足请求和提供响应时如何执行。客户端只需要了解基于众所周知的应用协议的响应，即所请求的服务的数据的内容和格式。

客户端和服务器在请求响应消息传递模式中交换消息。 客户端发送请求，服务器返回响应。 这种消息交换是进程间通信的一个例子。 要进行通信，计算机必须具有通用语言，并且必须遵循规则，以便客户端和服务器知道预期的内容。 通信协议中定义了通信的语言和规则。 所有客户端 - 服务器协议都在应用层中运行。 应用层协议定义对话的基本模式。 为了进一步形式化数据交换，服务器可以实现应用程序编程接口（API）。 API是用于访问服务的抽象层。 通过限制通信到特定的内容格式，它有助于解析。 通过抽象访问，它有助于跨平台数据交换。

服务器可以在短时间内从许多不同的客户端接收请求。 计算机只能在任何时刻执行有限数量的任务，并且依赖于调度系统优先来自客户端的传入请求以适应它们。 为了防止滥用和最大限度地提高可用性，服务器软件可能限制客户端的可用性 拒绝服务攻击旨在利用服务器处理请求的义务，并以过高的请求率重载。

## 例子

当银行客户使用网络浏览器（客户端）访问网上银行服务时，客户端向银行的Web服务器发起请求。 客户的登录凭据可以存储在数据库中，Web服务器以客户端方式访问数据库服务器。 应用程序服务器通过应用银行的业务逻辑解释返回的数据，并将输出提供给Web服务器。 最后，Web服务器将结果返回到客户端Web浏览器进行显示。

在这个客户机 - 服务器消息交换序列的每个步骤中，计算机处理请求并返回数据。 这是请求响应消息传递模式。 当满足所有请求时，顺序完成，Web浏览器将数据提供给客户。

该示例说明了适用于客户端 - 服务器模型的设计模式：分离关注点。

## 服务器原型的历史

客户端 - 服务器体系结构的早期形式是远程作业输入，至少交给OS / 360（宣布的1964年），其中请求是运行作业，响应是输出。

在20世纪60年代和70年代制定客户端 - 服务器模型时，构建ARPANET的计算机科学家（在斯坦福研究所）使用服务器主机（或服务主机）和用户主机（或使用主机）这些术语，并出现在早期文档RFC 5和RFC 4.这种用法在20世纪70年代中期在施乐PARC继续进行。

研究人员使用这些术语的一个背景是设计一种称为解码编码语言（DEL）的计算机网络编程语言。这种语言的目的是接受来自一台计算机（用户主机）的命令，这将在向网络数据包编码命令时向用户返回状态报告。另一台支持DEL的计算机，服务器主机，收到数据包，解码，并将格式化的数据返回给用户主机。用户主机上的DEL程序接收到呈现给用户的结果。这是一个客户端 - 服务器事务。 DEL的发展刚刚开始于1969年，美国国防部建立了ARPANET（互联网的前身）的一年。

## 端主机和服务器主机

客户端主机和服务器主机与客户端和服务器具有不同的含义。 主机是连接到网络的任何计算机。 而服务器和客户端可以指向计算机或计算机程序，服务器主机和用户主机始终指电脑。 主机是一个多功能的多功能计算机; 客户端和服务器只是在主机上运行的程序。 在客户机 - 服务器模型中，服务器更有可能用于服务任务。

客户端这个词的早期使用发生在“分散文件系统中的数据与功能分离”中，1978年由施乐公司计算机科学家霍华德·斯特吉斯，詹姆斯·米切尔和杰伊·以色列撰写的论文。 作者非常小心地为读者定义术语，并解释说，它们用于区分用户和用户的网络节点（客户端）（到1992年，服务器字已经写成一般的说法）。

## 集中计算

更多信息：个人电脑历史，分散计算和计算机集群
客户端 - 服务器模型不规定服务器主机必须具有比客户端主机更多的资源。相反，它使任何通用计算机能够通过使用其他主机的共享资源来扩展其功能。然而，集中式计算特别为少量计算机分配了大量资源。从客户端主机到中央计算机的计算量越多，客户端主机就越简单。它大量依赖网络资源（服务器和基础设施）进行计算和存储。无盘节点甚至从网络加载其操作系统，计算机终端根本没有操作系统;它只是一个输入/输出接口的服务器。相比之下，胖客户端（如个人计算机）具有许多资源，不依赖服务器进行基本功能。

随着微型计算机的价格下降和电力从20世纪80年代末到20世纪90年代后期，许多组织将计算从集中式服务器（如大型机和小型计算机）转移到胖客户端。这给计算机资源提供了更大的，更个性化的统治地位，但复杂的信息技术管理。在二十世纪二十年代，网络应用程序成熟到足以与专门的微架构开发的应用软件相抵触。这种成熟，更加实惠的大容量存储以及面向服务的架构的出现是导致2010年云计算趋势的因素之一。

## 与点对点体系结构的比较

除了客户端 - 服务器模型，分布式计算应用程序经常使用对等（P2P）应用程序架构。

在客户机 - 服务器模型中，服务器通常被设计为[由谁？]作为为许多客户端服务的集中式系统。服务器的计算能力，存储器和存储要求必须适当地缩放到预期的工作负载（即，同时连接的客户端数量）。负载平衡和故障转移系统通常用于扩展服务器实现。

在对等网络中，两台或多台计算机（对等体）将资源汇集在一个分散的系统中进行通信。对等体在非分层网络中具有相等或等同的节点。与客户端服务器或客户机 - 队列 - 客户端网络中的客户端不同，对等体直接相互通信。在对等网络中，对等通信协议中的算法平衡负载，即使具有适度资源的对等体也可以帮助共享负载。如果节点变得不可用，只要其他对等体提供它，它的共享资源将保持可用。理想情况下，对等体不需要实现高可用性，因为其他冗余对等体可以弥补任何资源停机时间;随着对等体的可用性和负载能力的变化，协议重新路由请求。

Vasudeva Varma将客户机 - 服务器和主从服务器都视为分布式对等系统的子类别。